<?php

namespace App\Http\Controllers;

use Illuminate\Support\Facades\DB;
use Illuminate\Support\Carbon;
use Illuminate\Support\Facades\File;
use Illuminate\Support\Env;
use App\Jobs\PriceUpdate;
use Illuminate\Support\Facades\Artisan;
use App\Models\Sku;

use Illuminate\Http\Request;

class DataManagementContoller extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function sftpDataPriceUpdate()

    {
        $result = [];
        //4906
        // $skus = ["12502","44924","33221","52677","55321","13096","12896","12079","68942","13009","13010","40185","13131","12926","12923","12925","12924","12494","11208","11209","40941","40942","12123","34729","12584","12810","35673","61005","68513","60581","60582","61399","61400","69432","54172","54176","58684","73199","73200","73201","60305","60306","69575","69576","69595","69596","71719","84307","85442","85443","68469","68470","68471","68472","68117","69577","69578","69579","70851","70852","59289","59888","12495","11923","12546","40187","11517","13018","31574","32347","31575","51606","11722","11485","12616","10898","33128","33127","34105","33530","33354","68551","64778","59290","59536","34104","11174","34226","33307","12498","59181","68948","67553","51608","11714","11527","11719","33664","33663","33661","51609","34387","11723","11686","11189","10755","11718","10756","11715","11357","66436","63374","60307","33071","21040","21897","21959","22279","10897","65158","32554","32582","34307","32965","57313","58791","34122","34227","58020","12667","13015","22153","34251","12377","20090","33667","11060","10806","20591","20857","22275","30506","33149","35101","10477","10476","12068","22152","32552","21120","32371","32974","45632","13168","59959","59960","60379","13138","34756","21438","65604","66352","40383","21861","22274","30451","30721","40249","40429","12658","51124","51128","33403","56718","58005","58371","59084","35041","32816","21819","35475","34773","40844","22246","31439","33540","22245","12275","21820","22226","30777","30720","69197","33755","12672","12673","32683","33500","59462","31118","12897","12996","12997","32252","33911","33912","34722","35103","69161","13064","13065","40430","34052","12448","12449","11522","56775","20931","35626","30718","32979","33754","33756","33914","33915","11521","31658","34670","31852","34668","34669","58207","12655","12656","13198","13167","13166","13205","33840","33839","12802","13141","11769","35683","21850","40302","31653","57904","11759","11758","31411","31413","31414","32170","22217","22218","31412","20702","34797","31407","33636","57905","40303","57898","35180","33135","34953","35119","20259","31785","34301","40003","58341","61162","61163","68108","69008","21379","31004","31005","41536","10919","12009","12053","21299","32716","33751","34487","34579","34667","57083","57191","57197","10385","10469","10471","10498","10838","12452","12478","12930","12943","12948","12953","21315","21932","22167","30076","30574","32345","35072","40585","41593","55265","59377","65605","57311","11929","12089","12547","13012","30954","34788","52317","32315","12954","59300","22234","32890","59513","57780","12971","12976","55427","59003","13063","11232","21852","21856","32433","32497","34888","34890","34891","35170","35697","40034","55420","55422","55616","57173","66058","33916","34994","40036","11325","32434","33538","34058","34152","34476","44973","56989","58328","58340","68329","10844","10846","11384","11424","12905","30282","34850","34893","34895","35696","55431","57600","63321","65277","66061","50957","12931","31889","32296","32370","61198","66006","13038","34887","34892","40952","65464","68332","41238","32289","33815","55426","56781","65276","68615","68616","34602","67729","12421","35211","12576","12904","10404","22563","34661","34662","35174","35207","57813","20468","66238","44052","35171","12980","10032","20930","21984","34585","33887","33888","12784","57052","12910","31560","11747","34063","30569","33759","11748","11909","30570","57399","12385","10252","11749","11750","34829","34889","58697","57051","11910","10251","10470","10948","11211","11541","12419","13008","13127","32649","35050","69938","22672","31024","32349","35104","35105","35220","35221","12130","13003","13129","21274","30449","30450","33427","34974","32328","34956","35058","35059","40929","35391","21440","22735","59890","59891","60121","60122","60120","33473","41625","60328","33202","60116","35790","21577","60583","59889","43815","33286","35185","13225","35435","58271","30510","60674","11914","32091","59886","60425","60426","59902","59901","13284","13207","13269","13268","70974","35393","35766","33450","22185","33019","35405","12107","30048","30049","32390","32744","33229","33230","33303","33434","34248","34457","34538","41687","33471","30528","12830","40231","20249","33460","22909","33459","57540","57541","57542","31119","31110","59376","32122","59538","12312","21760","12928","12311","61201","12927","22050","22548","22549","33448","33472","32536","33227","59670","59671","40595","40594","40596","40598","41388","33855","68213","68214","60428","33417","21033","55042","21699","21660","21700","21390","31273","64473","21657","20698","21784","21782","21783","21802","20828","21061","21104","21629","11872","21371","22405","12640","64472","33416","34547","58303","59184","35510","68343","35571","34000","12706","12398","21781","31257","12705","20694","21630","21370","20662","20661","12315","12314","11378","10494","58391","32676","21424","34001","20664","31252","31270","55105","57201","32795","21628","21780","22210","10493","20317","32796","32677","59440","35212","21609","10221","10495","10798","11156","11298","11592","11593","11871","12313","21631","21650","32293","59468","68211","68212","68215","68216","11917","13272","22737","65123","21851","30559","21662","42120","20456","21921","21911","21827","22139","20333","21787","21785","21786","20935","20934","33536","33798","66081","21953","22088","22255","21614","21822","12310","12639","57619","12775","11542","12611","11258","20455","30707","21597","21613","41581","31053","21821","21648","11414","11317","40212","11957","12010","12113","12835","20332","21112","21551","21621","33400","33534","33535","41583","51397","59291","59299","58948","40213","21020","21612","21643","21993","34999","43651","11398","11237","21649","30662","30704","31052","13101","58344","21823","22876","21032","66080","21045","32784","52590","56658","58440","59267","59268","65548","31772","41235","30233","30217","30232","12861","33057","52758","57304","67774","31279","35070","12985","32152","32759","34633","12056","34575","35499","33344","12066","12848","32742","32774","32827","33054","33336","33498","33516","33517","33852","34607","34874","35069","69035","69157","30655","30654","31996","31995","33423","31997","11706","11912","12596","12597","12599","12936","22941","22942","32033","31581","32034","30589","33659","61024","60727","56239","56238","21926","22084","22156","32439","32946","32679","32947","33053","33186","59086","68454","69159","21925","22085","31389","33346","33598","58787","68127","21450","11797","30494","32535","68129","12364","12443","12995","22550","22552","33599","34232","68156","32855","31944","34898","61242","32438","61221","22514","68453","61219","12846","30045","33921","12367","21449","32450","34415","32792","58736","58737","61243","66634","61222","35205","69861","12939","13240","12940","22763","33565","13271","12937","13139","35549","13311","21697","58914","12807","12808","32802","33205","33206","33338","12023","12999","35063","11705","21608","22517","31312","35062","58744","12781","22594","12186","59961","13267","11803","60726","13314","40376","69158","11729","12842","12608","22022","22343","22404","11730","33848","35500","35501","69047","11807","11808","22021","67360","32063","32327","33358","33817","12843","41005","13067","21687","22344","34712","61195","67528","67742","34713","13068","59500","32739","30775","35356","22593","22671","59702","13243","60323","13279","13280","12651","13140","13319","13316","21854","22184","21877","35102","66218","34266","34267","31809","31810","33467","33468","60380","13264","13318","63228","22157","22158","22381","12567","12571","13000","13001","34410","34411","12966","60107","35851","21442","20830","55902","20051","55267","56067","57119","58792","57116","57398","20262","30253","21010","11432","30257","56987","64528","68565","20849","21386","12183","22254","32041","67187","20748","57117","57120","21387","12908","40968","21532","32253","64605","13227","60718","22227","32230","34523","58336","58665","22284","35139","59292","33396","33900","35559","69433","59821","22729","22815","44776","60115","70529","59907","44083","22943","12383","12472","12218","56384","57053","56383","22173","22174","22453","56335","56464","21695","21696","21855","22212","22213","22214","12212","12361","12375","12390","12391","12471","12473","32070","32546","34635","34636","34637","32993","33094","56736","58230","58732","58751","58752","58801","59000","35068","69126","69129","69130","34208","34690","12563","12805","12806","12828","12829","12159","12782","12783","13002","12470","12886","12887","12888","32997","68124","12979","22132","22159","22454","31493","31781","31782","34201","35047","58107","12177","12353","22231","22232","22315","22316","22317","22411","22417","31989","33330","34125","34126","56466","32306","32374","32815","33832","34383","34384","34385","34386","34586","34689","12572","12573","32456","58390","12304","32991","69355","68125","70393","70395","13100","13124","13125","22674","22675","12703","70396","70830","22726","22727","13241","34379","34378","13242","13126","13283","35846","13306","13307","13308","13323","13324","12994","20863","21364","21843","21964","32738","33871","34493","34655","11892","12661","12662","12866","21118","21842","21917","33191","31391","20671","32512","69281","11265","21307","22032","22270","32994","32996","34269","34416","40442","67527","33143","61224","61225","61226","61227","10909","12048","12076","12077","12543","13026","20151","20153","20670","21093","21260","21961","22016","22103","22209","31372","32215","32486","32507","32648","32713","32714","33062","33407","33455","33742","34268","35472","40322","41008","52856","55919","56211","57308","59332","59344","61296","61297","66690","67185","69466","33413","10753","20821","20836","21363","22219","33753","33799","33956","34103","34969","35000","35073","35074","35701","35702","35703","56420","32534","33629","33630","33631","13069","13070","31392","32424","32425","34639","13060","56417","30591","67334","10535","21497","34825","21573","21965","32426","33873","33874","33875","34285","34484","35081","58667","59293","34492","58502","59081","13031","32261","32420","33341","40309","58664","13030","30497","33872","59683","12737","35181","34663","34664","70399","70398","70397","33436","34113","59511","35218","35357","13104","22759","43636","45192","67362","60105","13107","60639","60427","22862","13224","35436","12800","35807","35806","35805","13238","60329","55036","35792","35437","67585","67518","21343","21017","63433","21358","20990","33259","30599","55708","55706","21353","22060","22180","22181","22183","22378","11225","11448","40112","12635","55705","55707","34409","33174","33179","33355","33356","33422","33426","57205","57907","58346","58947","67517","33554","33578","33757","33886","34039","34707","34396","34653","34654","34826","35054","12935","12968","12634","12636","12869","12870","12934","11948","11959","12871","12872","21279","21342","22151","22182","30265","32481","12803","12804","12914","12955","21280","21281","12185","12533","31846","22001","11960","11989","12184","30266","30925","32421","32422","32785","32786","32940","32941","33300","34157","34706","57948","59331","13062","22062","52318","56209","32596","34327","13058","33482","56906","67586","34616","34617","33077","13057","33579","11840","13102","56245","60006","13195","22816","13196","13285","13277","12497","44900","60696","60714","12339","12602","12867","12882","12952","13273","32605","33454","33627","34652","34896","34897","35425","35553","35554","35555","35566","35672","35769","35778","35779","35780","35781","35782","42352","51029","53964","54470","54873","55378","55379","55609","57230","57280","57520","57521","58299","58300","58407","58951","58982","58983","58985","58986","58987","58988","58989","58990","58992","59065","59187","59188","59189","59201","59221","59335","59343","59446","59447","59448","59449","59450","59451","59452","59453","59476","59477","59507","59515","59524","59526","59531","59588","59650","59652","59880","59950","59951","59962","59963","59964","59967","59990","60113","60114","60129","60130","60276","60552","60561","60974","60975","60989","60994","61004","61012","61013","61018","61660","70359","70362","70525","11332","11416","11443","12207","31562","32694","33860","33995","34859","34862","34863","34916","34917","34918","34920","35066","35071","35520","52908","55353","55717","56479","57035","57231","59066","59067","59219","59220","59298","59493","59579","59585","59690","59691","60142","60303","60547","68152","68589","68682","68790","68902","69248","70595","12977","13078","13204","13276","22755","22760","22761","22762","22811","22812","22813","22859","22873","22874","22875","22912","35398","35556","35562","35668","35677","35684","45683","60310","60327","70598","70600","70823","10458","11693","12090","12169","12712","13143","20049","21309","21360","21815","21848","21849","21947","21951","22056","22067","22137","22140","22143","22230","22312","22590","22818","22872","22935","30692","31443","31622","32229","32262","32294","33384","33758","33988","34136","34507","34660","34853","35443","35448","35498","35669","35670","35671","35762","35763","40225","40371","40384","56751","57949","58543","60383","61212","61213","61274","65242","65835","66777","66782","70367","70458","70460","70950","35747","35752","35753","51644","53995","55172","55288","56378","56851","58362","59543","59661","59662","59993","60001","60002","60003","60098","60119","60143","60144","60145","60146","60147","60148","60149","60161","60337","60338","60339","60348","60351","60353","60357","60358","60390","60391","60396","60397","60398","60548","60549","60565","60574","60596","60597","60598","60599","60637","61499","65139","65565","65616","65676","65678","65822","66196","66197","67677","67801","67802","67839","67840","67841","67842","67880","68208","68209","68326","68327","68333","68441","68898","68939","68940","69011","69308","69309","69321","69322","69552","69555","69600","70244","70245","70524","70736","70961","70963","70964","10890","13007","22091","22562","22864","35360","35390","35403","58067","58213","58359","59008","59278","59663","59883","59892","59996","59997","64349","67233","70983","58237","59244","59317","70098","70099","72899","72978","73202","33025","34833","34834","41409","51381","51815","52282","53153","53154","53970","53971","53976","55747","56059","56060","56061","56062","56065","56337","56475","56722","56723","57155","57156","57353","58083","58102","58103","58232","58352","58499","58547","58576","59029","59039","59910","60166","60324","60603","60606","60612","60613","60964","60972","60973","66425","66426","66427","66428","66429","66430","66431","66437","66900","68281","68282","68283","68284","69997","69998","78074","52501","54653","54756","55612","55613","57132","57171","57177","57613","58761","59186","66993","68473","68474","68475","68515","71547","72702","78139","86440","86441","86477","86478","86479","70046","70062","70063","70065","70373","70376","70573","70574","71080","71082","72901","72964","73171","73176","73191","73192","78134","78408","86508","13237","70010","70630","70955","71319","71377","71519","71556","72733","72960","72961","72962","72997","73099","73133","73177","73178","73193","73194","73195","73269","73270","77015","77466","77480","77481","77482","77497","77553","77636","77882","78067","78116","78445","78446","80127","80128","80198","80200","80209","80372","80377","80378","81149","81436","81437","81438","81439","81441","82717","83014","84114","84886","84887","85866","85952","85953","85985","85990","86035","86090","86093","86106","86110","86139","86141","86142","86187","86293","86345","86372","86378","86379","86380","86388","86389","86401","86432","86433","91649","91650","10327","10952","10953","10954","10955","11389","11544","11545","11663","12236","12237","12252","12380","12789","12790","12885","12929","13137","13170","21664","21669","22492","22493","22494","22495","22496","22499","22502","22503","22506","22507","22508","22509","22596","22599","22730","22860","22861","34038","34051","34076","34077","34120","34289","34395","34543","34565","34622","35043","35203","35204","35210","35222","35339","35340","35341","35676","35749","35750","35751","35764","40147","40148","40167","41214","41216","41278","41595","42419","42424","42425","42426","42429","42430","43081","43082","43084","43085","43089","43090","43100","43102","43122","43123","43128","43129","43130","43131","43138","43142","43152","43153","43154","43157","43158","43160","43161","43174","43175","43176","43178","43179","43180","43181","43183","43184","43185","43186","43187","43188","43189","43190","43196","43197","43199","43209","43210","43211","43213","43215","45243","45245","45249","45250","45252","45254","45426","45428","45429","45430","45569","45570","45571","45573","45574","10513","10516","12560","12682","12683","12684","12685","12686","12906","12907","13209","13210","21329","21521","22700","22701","22702","22703","22704","22705","22706","22707","22708","22709","33508","33509","33510","34580","34581","34582","34583","34934","34964","44139","52054","54227","54292","54294","54332","54483","54679","54680","54714","54759","54869","55080","55735","55838","56457","57477","57478","57479","57480","57958","58363","58806","58832","58833","58864","59301","59346","59347","59348","59653","59654","59655","59979","59980","59982","60651","60652","65868","66306","66680","67008","67009","67012","67013","67015","67016","67883","67885","67887","68444","68455","68480","68481","68482","68776","68932","69362","70433","70434","70857","90471","91987","91988","91991","91992","10523","12759","12964","13080","13244","20643","22141","22142","33162","33247","34810","35389","35565","35804","50183","50686","50690","51821","52724","52737","52743","53019","53020","53021","54068","54069","54105","54106","54659","55002","55737","55870","56861","57447","57511","57548","57606","57775","57843","57955","57956","57973","58001","58002","58120","58408","58483","58950","59010","59011","59193","59826","59893","60290","60349","60385","60804","60806","60807","60822","60835","61358","65419","67844","68163","68486","68487","69502","70511","92609","50272","50297","50310","50315","50326","50327","50329","50330","50331","50343","50345","50356","50908","50910","50918","51156","51157","51720","51721","51983","52326","52477","52479","52867","53106","53107","53924","53992","53993","54007","54010","54011","54012","54065","54169","54202","54203","54205","54362","54533","54650","54651","54723","54725","54726","55058","55090","55223","55224","55855","55900","56202","56305","56307","56570","56572","56574","56838","56840","56841","56842","56843","56855","56856","56857","57234","57236","57237","57753","57795","57846","57962","58061","58062","58093","58094","58095","58246","58254","58292","58293","58579","58678","58679","58718","58723","58724","58746","58765","58835","59013","59092","59236","59237","59240","59241","59242","59247","59249","59257","59258","59273","59274","59275","59280","59282","59283","59284","59444","59454","59484","59519","59520","59521","59540","59541","59542","59550","59566","59589","59591","59657","59658","59680","59681","59682","59791","59816","59971","59972","59973","59974","60618","60621","60624","60627","60628","60636","60794","60796","60859","60860","60861","60971","60979","61495","61720","62153","62823","62936","62961","62973","62977","64267","64376","65224","65225","65226","65512","65516","65729","65730","65875","65877","65967","65969","65986","66122","66182","66288","66292","66293","66335","66403","66404","66406","66434","66444","66445","66446","66520","66526","66527","66528","66529","66532","66533","66749","66799","66809","66928","67061","67063","67072","67073","67074","67305","67310","67378","67387","67509","67510","67515","67516","67632","67658","67711","67787","67833","67834","67835","67957","68139","68204","68205","68206","68207","68301","68302","68309","68361","68362","68363","68364","68375","68376","68377","68378","68379","68428","68429","68457","68530","68578","68668","68708","68709","68755","68820","68896","68917","68921","68964","69001","69114","69115","69153","69154","69155","69156","69189","69190","69191","69245","69287","69290","69300","69301","69302","69310","69311","69312","69478","69480","69490","69493","69571","69572","69573","69594","69940","69956","69957","69958","69964","70444","70445","70475","70478","70480","70491","70493","70494","70672","70674","70738","70824","70849","70863","70864","70865","70882","70887","70960","95782","95783","13274","13275","35638","40451","40766","43970","51907","58577","58578","58803","59321","59322","59328","64806","65985","66806","67217","69932","69934","70258","70261","70436","70437","70438","70884","95785","22698","22699","34619","35213","43616","44192","50035","50037","50512","50513","51208","51209","51210","54287","54534","54537","54572","54783","54787","54791","54792","55302","55826","55827","55828","55831","57087","57088","57089","57090","57332","57333","57527","57528","58146","58273","58274","58275","58278","58285","58286","58376","58377","58378","58383","58402","58404","58459","58460","58461","58462","58500","58501","58820","58821","58822","58823","58824","58825","58826","58960","59296","59302","59304","59829","60009","60010","63987","66901","66999","67007","67064","67065","67066","67067","67274","67442","67443","67744","67745","67845","67846","67847","67848","67849","67896","68303","68533","68534","68535","68559","68560","68561","68562","68905","68957","69026","69027","69029","69030","69031","69048","69049","69050","69051","69053","69055","69186","69187","69256","69323","69325","69326","69482","69483","69484","69515","69516","69565","69583","69584","69585","69586","69871","69872","69968","69969","69970","69973","69979","69992","70321","70339","70344","70357","70361","70831","70832","70860","70861","95844","57614","58851","58971","59177","59245","59885","69550","69551","73157","73160","85855","85859","86294","86336","86338","86369","86370","86427","91862","91867","95866","95867","34128","34353","34462","34798","35178","35214","35215","35216","35275","35276","40829","41332","41417","50279","50281","50812","50813","50814","50839","51834","54356","54431","54433","54624","54628","54630","57070","58778","58779","59215","59216","59217","59218","59688","59689","59798","59799","59828","59903","59904","62500","62503","64512","65492","65493","66201","66656","67698","67705","67706","68468","68512","68807","68808","68809","68953","68954","68955","68956","68973","68974","68975","68983","68984","68997","68998","68999","69253","69254","69255","69333","69334","69360","69361","69423","69424","69425","69426","69503","69504","69506","69863","69864","69974","69976","69984","69985","69987","69988","69990","70256","70363","70364","90301","90312","90344","91023","92174","92895","95871","43216","43221","43222","43223","43225","43249","43250","43316","43318","43388","43389","43390","43396","43397","43398","43399","43401","43403","43404","43405","44569","44570","44574","44580","44581","44582","44583","44584","44585","44588","44589","44590","44603","44605","44606","44614","44615","44616","44617","44618","45012","45089","45261","45266","45267","45268","45272","45273","45274","45275","45276","45277","45278","45279","45280","45281","45282","45283","45284","45285","45287","45288","45294","45296","45303","45308","45309","45310","45311","45312","45315","45318","45320","45336","45346","45347","45362","45363","45366","45367","45368","45377","45387","45394","45396","45397","45422","45470","45475","45476","45477","45478","45479","45480","45575","45576","45577","45578","45603","50367","54384","54526","54528","55419","55642","55643","55645","55647","55648","55650","55651","55659","55660","55661","56938","57593","57594","57964","57965","58117","58259","58400","58401","58567","58748","58762","58763","58764","59059","59060","59222","59223","59224","59338","59339","59340","59368","59369","59370","59371","59372","59373","59374","59551","59552","59830","59831","60102","60167","60388","60389","60399","60400","62957","62997","62998","62999","63002","63003","63121","64092","64093","64131","64523","65163","65611","65717","65718","65720","65749","65751","65752","65753","66064","66089","66127","66191","66921","66958","67193","67195","67503","67659","67735","67746","67748","67824","67825","68517","68653","68693","68695","68712","68761","68952","68960","68961","68985","69039","69040","69056","69144","69146","69148","69200","69207","69208","69209","69212","69232","69267","69345","69346","69455","69456","69457","69467","69468","69473","69558","69560","69562","69566","69567","69568","69598","69599","69748","69749","69750","69993","69996","70265","70477","70489","70490","70512","70513","70516","70520","70673","70700","70701","70733","70856","70965","70966","81185","91821","92139","92393","92394","92396","92661","95579","95580","95581","95584","95587","95588","95589","95590","95591","95593","95595","95600","95601","95602","95603","95750","95752","95771","95780","95787","95824","95825","95842","95843","95845","95846","95848","95850","95851","95879","95883","95884","95885","95886","95887","95889","95890","95896","95898","95899","11925","12653","12654","22402","31800","32938","32939","33185","34046","34822","34941","35155","35156","35158","35179","35208","35754","35755","35765","41500","41504","41505","41631","43683","52484","52487","53042","55073","55074","55278","55280","55444","55697","56503","56520","56881","57107","57407","57412","57414","57418","57488","57737","57739","57826","57977","57988","58082","58164","58166","58173","58178","58179","58242","58257","58283","58284","58287","58307","58310","58330","58515","58537","58561","58569","58634","58681","58715","58769","58771","58856","58933","58934","58972","58973","59259","59438","59439","59459","59463","59574","59978","59998","59999","60000","60156","60157","60158","60159","60392","60393","60395","60653","60672","64624","64630","64925","66351","66645","66648","67691","67693","67694","67696","68023","68110","68111","68310","68311","68478","68536","68538","68540","68545","68698","68705","68817","68962","68963","68965","68976","68977","68978","69271","69277","69332","69375","69501","69563","69564","69587","69589","69591","69592","70254","70255","70351","70358","70414","70481","70482","70484","70683","94596","95719","95722","95726","95728","95900","95902","95903","95904","21924","22350","12379","21576","21690","21691","65341","65339","55709","55839","55840","22012","32437","21906","20981","21321","10204","10775","21265","65837","12087","12466","12564","63273","32929","33027","34335","34414","56454","57936","35488","30182","34274","34857","34858","12671","12701","12986","12799","13020","12916","34450","10410","10414","11539","11744","30170","63272","10687","40437","12850","32525","32092","34855","32080","30681","32093","22225","34089","40433","33762","42189","42190","58630","64132","65340","10411","11154","30186","35487","34694","22319","22320","32610","12467","22406","11345","13019","13028","13029","33559","33739","33741","59460","12702","32927","10828","59895","11499","13206","12714","60132","13144","13145","35784","13266","12565","12556","13265","13270","34906","70905","60725","33794","33490","40307","40308","34356","57300","68360","12962","13021","40306","12963","34247","34546","13235","21840","21737","58018","67882","33646","31584","33805","21611","67799","56620","57648","34047","69340","22814","35399","22676","30918","35191","33730","33710","33707","35263","34560","30917","30914","33706","35262","33708","35264","22336","22416","31583","59578","31382","32369","31383","21846","30196","11579","34618","12780","33603","33063","33806","33910","40272","60669","32224","32223","32222","33231","33232","69531","30804","21297","21298","22380","31102","22384","30802","13040","30800","32257","54211","13039","11613","31274","34309","34942","59534","65294","66246","55463","22108","22512","56780","63470","34927","11694","12946","12853","54214","58014","60724","31172","30287","20676","30623","30625","20276","30650","12062","40969","32696","30626","33674","33679","10514","10515","10517","10518","31153","31154","31157","31160","33589","33590","11611","11612","12891","11915","12172","30946","12393","31028","31030","31032","31041","31063","31065","31067","12961","20677","40021","30286","10842","11627","12083","30799","31027","31034","31042","31070","31071","31188","32701","33676","59334","30649","12341","20275","33746","30651","30633","22673","22758","22736","22738","35434","60362","22756","60378","22553","10456","10454","30789","30788","35090","22015","30533","57667","22269","60302","30924","35177","66242","21966","40228","66243","10029","21919","21493","31020","31017","61250","61252","61253","32110","12852","20460","21607","22408","21904","21905","32783","32432","30369","33389","32216","56621","35495","22485","60381","60382","60384","30252","22086","32564","33066","33792","33317","59089","40014","33650","33721","12933","12909","12480","34456","32218","33732","58766","32484","22081","22087","32022","32590","32730","33052","33399","10507","12351","33398","59952","20125","22076","10033","10034","22418","22419","58829","58949","22077","10203","22098","66162","20124","20126","22099","55266","22035","11742","58828","34578","13053","70390","35334","35335","22413","21829","61267","61265","70400","33332","70380","21809","66137","70462","59896","34905","30375","33632","30376","12583","58109","35011","34522","12901","34403","13027","34299","59270","60330","13233","70902","33463","33866","56875","53877","22092","21748","55262","22034","59185","34086","32245","12988","13041","57022","13004","33882","56252","57875","68912","32472","56351","34102","11809","21988","33203","34206","34207","56251","40338","57096","41482","20628","22510","22511","20629","70461","70459","13098","13103","13025","12348","12960","31597","59443","11575","12949","34611","40966","11692","12412","12468","31385","22020","56684","56609","66079","21615","55035","21446","21447","30348","40326","12474","41004","44989","34401","58622","59001","34315","59087","34111","34966","34997","44307","12475","20518","21455","11576","12603","12674","59068","59069","33441","33442","59333","30346","30347","57917","35206","13071","70378","33177","55043","45610","35551","35552","44863","66031","59908","60297","12363","60331","13208","33830","12675","40575","31610","13146","65362","66245","20547","41565","21746","22285","59528","22588","59897","13142","13017","58247","22422","35358","35359","43765","22338","22074","11173","34223","32317","21270","22033","56438","55261","56436","32693","33764","33694","11426","21288","22415","12605","32908","57640","58209","58345","59212","68340","69188","34992","34993","30201","33638","11847","32787","32545","21502","57086","34222","10623","12242","21494","32319","32907","42258","56416","57592","12893","32708","59271","69465","32047","22014","31484","33144","57591","34200","12318","57516","45633","22734","60333","22817","60316","60319","70528","58453","60673","22728","70904","30127","58442","59272","68218","13315","33458","33738","22554","21931","21900","22697","21674","21124","45736","86402","84770","44397","84785","86122","86121","45654","85825","85823","81000","80999","80998","45655","45520","45518","45701","86320","86322","44386","45680","45591","45592","45516","84913","44359","44356","84880","84902","44358","44355","84882","84906","84909","51554","30994","22546","55316","20928","21867","66234","12817","59009","59512","32875","10394","10391","20927","51605","57757","50955","22757","63985","11587","11235","21920","21922","22732","21234","20357","60833","20612","12054","55464","58343","70456","22334","35423","69953","35424","34613","34213","34453","32989","32767","51390","22280","66247","21743","30024","33156","20926","21460","21745","41280","21632","22037","21333","30026","34141","22363","33117","58612","34817","34665","10559","33391","58048","69954","59669","59668","59514","34225","67820","69169","13006","67796","11261","12974","34588","34054","33648","11713","10983","10580","58830","34034","34031","12492","30795","61696","10200","34167","20252","61703","65843","64488","20340","11226","34373","31061","30602","66561","67162","58735","58342","34475","42142","41298","61702","61695","22375","33904","56453","31913","33644","64813","10613","33804","33698","33337","33295","33161","13077","22235","13023","22561","59464","35188","35187","35186","58280","34924","61491","68550","66175","66174","66155","34265","66165","68100","65323","57833","12965","33420","11924","64602","34312","33907","69196","69133","68813","68552","68514","68439","68357","68321","68159","67465","66670","66669","59276","59243","59231","59227","59214","59195","35052","59183","59090","59023","58928","58852","58725","58480","58449","58372","58323","58217","58158","58050","57915","57682","57679","57615","57568","57567","57288","57074","56409","56407","56403","56393","56309","55904","55083","66250","65844","64241","51602","57817","11236","69184","69132","69064","68941","56352","56860","58057","56401","56556","56894","55433","57559","57627","57617","57777","58006","56660","58177","56404","56406","55079","56636","56981","56980","65206","54751","66167","56181","56094","56437","66329","65716","58051","58069","58374","68701","58373","58351","58019","68742","55879","57533","58044","22456","22342","59007","56789","56787","53145","22057","22504","35092","59586","35228","35095","34497","34587","33451","22587","66235","34627","41268","35183","34612","35184","35002","13085","13084","69494","59529","59532","59533","22059","13075","35182","13072","34843","34659","34281","69495","22239","34809","34687","22256","22058","35097","22237","34279","33452","43444","58506","58505","34615","22471","54510","11505","11504","41269","41267","34842","34841","34840","34005","34004","69034","69033","69028","59277","57754","10442","10489","32829","32828","11702","22300","70096","70120","70206","70118","70108","70083","70117","70081","70115","70205","70218","70116","70101","70082","70112","70095","70097","70089","70102","70113","70214","70094","70104","70111","70114","70103","70110","70209","70207","70106","70215","70211","70322","70119","12959","33226","33485","34881","33623","22241","58482","12534","11466","22240","12535","34159","34915","66099","70403","34933","34932","35190","35189","62955","57954","65488","67249","40865","33937","30785","35192","13034","13024","13033","12883","30648","59182","30432","12265","40907","30763","33656","22592","22591","35039","34033","33116","33089","33067","12978","33437","33248","10531","10530","12760","34283","31646","34610","57462","33059","33058","33438","61264","61262","61261","61263","30647","10532","33195","33194","33196","12975","67179","13197","22188","12881","21963","35110","13032","12463","30786","21001","20287","20156","69530","34144","34614","34280","22272","21868","21869","21742","22075","21744","21747","21870","34552","20642","12411","10574","31275","30803","31194","31100","11628","40982","32818","32307","35111","22385","21550","21549","20602","31486","31485","30251","31173","33733","21698","34137","11896","60828","61356","52541","69063","60836","59488","60805","65416","65415","59364","59287","59286","58119","52831","60372","65420","53895","59012","58942","58661","58660","58003","58000","57438","56905","56862","56253","55327","52535","50184","44352","60648","60374","60373","60370","60837","60838","60823","60824","60309","56748","40780","40779","93959","40778","40781","57776","52384","52385","52383","60371","69010","21095","34569","20989","22206","21369","35091","33731","31770","22023","20439","57315","55922","22518","12021","11503","34471","34143","34142","35595","32487","22544","33729","32775","10879","22348","22335","21934","21702","22134","33807","21833","21845","21844","21847","21042","30592","33709","21471","12394","12395","35100","22407","21251","35096","34561","20459","21711","11344","34091","58358","58157","22294","21296","22491","21656","22558","22484","22545","59592","12973","56093","34830","13043","13042","13044","32094","33075","32382","33551","11410","11405","34134","11430","11429","11030","41382","21620","10812","12369","59020","10070","35531","35099","35098","35003","12368","12752","12932","11435","10067","35533","34634","11241","35535","35534","35530","33549","33479","90764","22421","21864","10631","69135","33521","21940","12876","10635","66781","35004","59019","58450","57850","56739","33478","33393","33392","33720","51560","51557","45001","43811","41383","40949","63240","61269","60900","22388","11644","11240","10669","10668","10666","10636","10632","10434","10071","10069","10068","10066","72999","72991","69268","22386","22347","22216","21818","20581","21185","21115","57851","90609","21863","21639","57159","56738","21073","21913","21866","21872","22144","20862","22089","33653","31471","33552","21927","21928","21539","22105","34397","12821","34801","10665","20717","21140","41306","92608","67685","13079","69528","13074","10803","56776","20370","12041","56395","33325","12820","12818","13014","12917","10614","10611","33326","30604","13061","12819","12816","11472","10802","66318","66317","12722","55402","66098","58912","56375","34755","22337","10612","10379","69042","69041","68337","68336","67475","67446","59018","59017","59016","56903","56790","56469","56334","34140","34452","10547","55273","55272","55271","55270","55269","53067","51587","51553","51133","51129","41665","63266","61694","12558","22387","10377","10077","21902","11720","21831","21261","21834","21828","21899","20394","21832","21242","21547","20369","21836","21839","21838","21835","20373","33142","21801","21903","12854","22519","22046","12197","10893","10892","10564","22273","12531","10672","22346","22125","12889","35160","59194","34644","12523","12198","10045","10044","22243","22242","34757","34716","12942","34496","12532","12552","69529","22468","35051","22515","31143","58705","31144","22414","21757","34106","21197","21998","61122","54108","54107","50685","50205","60827","66022","54296","57510","52739","60375","60346","60308","10528","10529","10522","34517","10524","32981","10527","10526","10525","30096","30095","21563","21562","21411","10492","20431","32647","54658","55315","61118","30993","51565","64995","21779","21754","33601","58704","10486","30780","31815","35161","31566","40950","51555","53000","52662","52661","21862","21641","21871","54138","20682","11227","32495","32496","32770","54377","12358","32881","12837","11533","30687","56919","68328","57320","22202","54139","22560","59906","13231","70530","70531","13232","34950","22127","22096","21875","34550","61169","59537","56798","22005","57160","22595","22543","21865","22589","31473","12877","12346","21344","33165","30515","10759","34656","22379","21962","61194","35162","34082","34418","61115","22482","56779","56777","34624","68568","65295","65293","51581","41667","61698","61111","60914","10615","22313","22038","33160","30605","30065","33132","34657","21841","20907","65021","40861","31357","31358","58965","58966","58967","31083","31084","31085","13036","13037","31359","56788","31106","30997","61117","21814"
        // ];

        // foreach ($skus as $sku) {
        //     // Search for the SKU in the Sku table
        //     $foundSku = Sku::where('SKU_Number', $sku)->first();

        //     // If the SKU is not found, add it to the $results array
        //     if (!$foundSku) {
        //         $result[] = $sku;
        //     }
        // }


       $skus = [
            "33754",
            "12655",
            "13167",
            "13205",
            "33840",
            "33839",
            "21850",
            "40303",
            "57898",
            "34953",
            "35119",
            "31785",
            "61162",
            "21299",
            "34667",
            "57197",
            "12930",
            "12953",
            "21315",
            "30076",
            "55265",
            "57311",
            "12547",
            "32315",
            "12954",
            "59300",
            "22234",
            "32890",
            "11232",
            "34888",
            "55420",
            "57173",
            "66058",
            "34152",
            "10844",
            "11384",
            "11424",
            "12905",
            "30282",
            "34850",
            "34895",
            "12931",
            "32370",
            "13038",
            "34892",
            "41238",
            "35211",
            "12576",
            "34662",
            "57813",
            "20468",
            "33759",
            "11909",
            "11910",
            "10251",
            "10470",
            "11211",
            "11541",
            "35050",
            "35105",
            "35220",
            "30450",
            "35058",
            "40929",
            "35391",
            "59889",
            "60426",
            "13269",
            "35766",
            "30049",
            "33230",
            "33303",
            "33434",
            "34457",
            "30528",
            "20249",
            "33460",
            "31110",
            "59538",
            "12312",
            "21760",
            "12928",
            "22050",
            "22548",
            "32536",
            "68213",
            "21699",
            "21700",
            "31273",
            "20698",
            "22405",
            "21781",
            "31257",
            "31252",
            "55105",
            "32795",
            "21628",
            "10493",
            "32796",
            "21609",
            "10495",
            "11593",
            "11871",
            "12313",
            "20333",
            "12310",
            "57619",
            "11542",
            "12611",
            "11414",
            "40212",
            "12010",
            "12835",
            "20332",
            "21112",
            "40213",
            "21993",
            "59267",
            "67774",
            "32759",
            "33498",
            "33517",
            "34874",
            "69157",
            "33423",
            "11706",
            "12596",
            "32033",
            "33186",
            "22085",
            "68127",
            "12995",
            "34898",
            "61219",
            "30045",
            "32450",
            "13311",
            "33338",
            "12023",
            "12999",
            "22517",
            "58744",
            "12781",
            "12186",
            "11803",
            "22404",
            "69047",
            "12843",
            "61195",
            "67528",
            "13140",
            "21854",
            "22184",
            "33467",
            "63228",
            "22381",
            "12567",
            "13001",
            "60107",
            "35851",
            "20051",
            "55267",
            "56067",
            "21010",
            "12183",
            "64605",
            "58665",
            "35559",
            "57053",
            "12212",
            "58732",
            "35068",
            "12563",
            "12805",
            "12828",
            "12159",
            "12470",
            "12888",
            "68124",
            "34201",
            "56466",
            "32374",
            "32815",
            "34385",
            "34689",
            "12572",
            "13126",
            "12662",
            "21307",
            "32994",
            "61225",
            "32507",
            "32648",
            "52856",
            "59332",
            "33413",
            "34969",
            "35703",
            "32534",
            "13060",
            "56417",
            "30591",
            "21497",
            "21573",
            "58667",
            "59293",
            "34492",
            "35181",
            "70399",
            "35357",
            "13104",
            "60427",
            "35807",
            "35792",
            "21343",
            "21358",
            "30599",
            "22060",
            "22183",
            "22378",
            "11225",
            "11448",
            "55705",
            "33355",
            "57205",
            "57907",
            "33757",
            "34654",
            "34826",
            "12869",
            "21280",
            "30266",
            "30925",
            "32421",
            "32422",
            "34157",
            "59331",
            "13062",
            "11840",
            "13102",
            "56245",
            "13195",
            "13277",
            "12339",
            "35781",
            "35782",
            "59448",
            "59451",
            "59452",
            "61660",
            "70525",
            "34859",
            "34863",
            "59067",
            "59219",
            "59220",
            "59579",
            "59585",
            "59691",
            "22761",
            "22812",
            "22859",
            "60310",
            "70598",
            "12169",
            "13143",
            "20049",
            "21309",
            "22818",
            "22935",
            "31622",
            "33384",
            "34660",
            "35448",
            "35669",
            "40225",
            "65835",
            "59993",
            "60144",
            "60145",
            "60149",
            "60348",
            "60398",
            "60565",
            "60574",
            "60596",
            "60599",
            "65616",
            "67677",
            "67802",
            "67839",
            "68327",
            "69552",
            "70244",
            "70964",
            "22562",
            "72899",
            "72978",
            "33025",
            "34833",
            "41409",
            "53971",
            "53976",
            "56059",
            "56061",
            "60166",
            "60324",
            "60612",
            "60964",
            "66430",
            "69998",
            "55612",
            "55613",
            "57171",
            "66993",
            "71547",
            "86478",
            "70063",
            "73192",
            "78134",
            "71319",
            "71377",
            "72960",
            "72961",
            "72962",
            "73195",
            "77636",
            "78067",
            "80198",
            "80372",
            "81149",
            "81438",
            "81441",
            "85952",
            "85953",
            "86035",
            "86106",
            "86142",
            "86388",
            "86401",
            "86432",
            "86433",
            "91649",
            "91650",
            "10952",
            "10953",
            "11545",
            "13137",
            "21669",
            "22494",
            "22502",
            "22509",
            "34395",
            "35339",
            "35750",
            "40148",
            "40167",
            "42419",
            "43082",
            "43161",
            "43178",
            "43179",
            "43184",
            "43211",
            "45254",
            "45428",
            "45570",
            "45571",
            "10516",
            "12560",
            "12907",
            "13209",
            "22706",
            "44139",
            "52054",
            "54227",
            "54292",
            "57477",
            "59982",
            "60652",
            "67012",
            "67016",
            "67883",
            "68481",
            "68776",
            "91991",
            "10523",
            "12759",
            "12964",
            "13080",
            "22141",
            "33162",
            "50183",
            "52737",
            "54068",
            "57511",
            "57956",
            "59893",
            "60349",
            "60804",
            "60806",
            "60807",
            "61358",
            "65419",
            "68163",
            "50315",
            "51157",
            "51720",
            "54012",
            "54203",
            "54725",
            "55090",
            "55900",
            "56572",
            "56841",
            "56842",
            "56856",
            "58062",
            "58093",
            "58292",
            "59236",
            "59240",
            "59241",
            "59242",
            "59275",
            "59454",
            "59484",
            "59682",
            "59791",
            "59816",
            "60624",
            "60627",
            "60796",
            "60859",
            "60860",
            "61720",
            "62823",
            "65516",
            "65730",
            "66335",
            "66403",
            "66444",
            "67310",
            "67387",
            "67835",
            "68205",
            "68376",
            "68896",
            "68917",
            "69115",
            "69153",
            "69287",
            "69480",
            "69573",
            "69594",
            "69964",
            "70444",
            "43970",
            "69932",
            "70437",
            "54537",
            "54791",
            "54792",
            "55302",
            "55827",
            "57527",
            "57528",
            "58273",
            "58377",
            "58383",
            "58500",
            "58820",
            "58822",
            "58824",
            "58825",
            "58826",
            "58960",
            "67274",
            "68560",
            "69029",
            "69031",
            "69050",
            "69515",
            "69516",
            "69565",
            "69871",
            "69968",
            "70321",
            "70339",
            "70344",
            "70361",
            "59885",
            "85855",
            "34353",
            "34462",
            "34798",
            "35214",
            "35275",
            "54628",
            "59798",
            "69424",
            "69504",
            "44570",
            "44581",
            "44590",
            "44606",
            "44615",
            "44617",
            "44618",
            "45266",
            "45273",
            "45282",
            "45294",
            "45362",
            "45368",
            "45475",
            "45477",
            "45578",
            "55642",
            "55645",
            "55648",
            "55650",
            "55660",
            "56938",
            "58762",
            "58764",
            "59224",
            "59374",
            "68712",
            "68961",
            "69056",
            "69148",
            "69562",
            "69568",
            "69598",
            "69599",
            "69749",
            "70512",
            "70700",
            "70856",
            "70965",
            "91821",
            "92396",
            "95587",
            "95589",
            "95843",
            "95850",
            "95883",
            "95886",
            "95899",
            "11925",
            "12654",
            "22402",
            "41500",
            "55073",
            "55280",
            "58537",
            "58681",
            "58771",
            "58933",
            "59438",
            "59999",
            "60392",
            "60395",
            "67696",
            "68111",
            "68536",
            "68963",
            "68976",
            "69589",
            "70254",
            "70255",
            "21691",
            "65339",
            "55839",
            "10204",
            "12466",
            "10687",
            "12850",
            "32525",
            "32092",
            "32093",
            "34089",
            "33762",
            "10411",
            "30186",
            "35487",
            "22319",
            "22320",
            "22406",
            "35784",
            "13266",
            "13265",
            "34906",
            "33794",
            "40307",
            "34356",
            "34247",
            "34546",
            "21840",
            "69340",
            "22814",
            "35191",
            "33707",
            "32224",
            "21298",
            "22384",
            "13040",
            "30800",
            "31274",
            "12946",
            "12853",
            "58014",
            "33674",
            "10515",
            "10517",
            "10518",
            "31071",
            "32701",
            "12341",
            "33746",
            "22756",
            "10456",
            "31017",
            "33389",
            "32216",
            "59089",
            "22081",
            "10507",
            "59952",
            "22419",
            "58829",
            "22077",
            "10203",
            "22098",
            "22099",
            "11742",
            "58828",
            "35334",
            "35335",
            "70400",
            "12583",
            "70902",
            "33463",
            "57022",
            "56252",
            "33203",
            "40338",
            "20628",
            "22510",
            "13098",
            "12348",
            "12960",
            "34611",
            "12412",
            "12468",
            "21615",
            "30348",
            "12474",
            "59001",
            "59087",
            "34966",
            "21455",
            "12674",
            "59068",
            "30346",
            "33177",
            "66031",
            "12363",
            "13208",
            "40575",
            "13146",
            "34223",
            "56438",
            "56436",
            "58209",
            "58345",
            "69188",
            "11847",
            "57591",
            "57516",
            "60333",
            "21674",
            "86402",
            "81000",
            "44386",
            "45516",
            "84913",
            "44356",
            "51554",
            "22546",
            "21867",
            "21234",
            "60833",
            "70456",
            "32989",
            "32767",
            "51390",
            "21632",
            "21333",
            "30026",
            "34141",
            "22363",
            "33117",
            "34817",
            "59514",
            "12974",
            "34054",
            "10983",
            "58830",
            "30795",
            "61696",
            "64488",
            "31061",
            "41298",
            "61695",
            "56453",
            "64813",
            "33804",
            "22235",
            "22561",
            "66174",
            "66155",
            "68439",
            "68321",
            "59227",
            "59214",
            "35052",
            "57915",
            "57679",
            "57288",
            "56409",
            "56393",
            "66250",
            "65844",
            "64241",
            "68941",
            "56860",
            "57777",
            "56406",
            "55079",
            "54751",
            "66167",
            "58069",
            "58019",
            "53145",
            "22057",
            "22587",
            "34659",
            "69495",
            "34687",
            "22256",
            "35097",
            "43444",
            "54510",
            "34840",
            "57754",
            "32828",
            "70120",
            "70082",
            "70095",
            "70111",
            "70209",
            "70211",
            "70119",
            "12959",
            "35190",
            "33656",
            "10531",
            "33438",
            "61261",
            "33194",
            "22188",
            "20156",
            "69530",
            "34144",
            "21868",
            "21869",
            "21744",
            "20642",
            "12411",
            "40982",
            "22385",
            "20602",
            "21698",
            "60828",
            "65416",
            "59012",
            "56862",
            "44352",
            "60374",
            "60309",
            "52385",
            "20439",
            "57315",
            "34471",
            "22544",
            "33807",
            "21833",
            "21471",
            "21296",
            "22491",
            "34830",
            "13044",
            "33075",
            "32382",
            "11410",
            "11429",
            "11030",
            "10070",
            "35098",
            "35003",
            "11241",
            "21864",
            "10631",
            "21940",
            "10635",
            "35004",
            "59019",
            "58450",
            "33392",
            "33720",
            "40949",
            "63240",
            "72999",
            "22347",
            "22216",
            "21818",
            "21073",
            "21928",
            "21539",
            "92608",
            "10803",
            "56776",
            "10611",
            "30604",
            "13061",
            "66317",
            "34755",
            "10612",
            "55271",
            "10377",
            "10077",
            "21834",
            "21832"
       ];




        // $skus = ["12502","44924","33221","52677","55321","13096","12896","12079","68942","13009"
        // ];



        // $itemCount = count($skus);

        // return response($itemCount);

      $storeid = "114";

    foreach ($skus as $sku) {
            $url = 'http://10.60.15.110/JDA_Connect_SFY/JDA_ConnectService.asmx';
            $xmlBody = '<?xml version="1.0" encoding="utf-8"?>
                <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                    xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
                    <soap:Body>
                        <SKU_Inquiry xmlns="http://tempuri.org/">
                            <IP_Address>10.88.40.36</IP_Address>
                            <machine_Name>RRGJDAP06</machine_Name>
                            <JDA_Env>SSD</JDA_Env>
                            <App_ID>TP</App_ID>
                            <user>IFSSQLK1</user>
                            <password>$$D1i2O16</password>
                            <store_number>' . $storeid . '</store_number>
                            <sku_number>' . $sku . '</sku_number>
                            <pel_ID></pel_ID>
                        </SKU_Inquiry>
                    </soap:Body>
                </soap:Envelope>';

            $ch = curl_init();
            curl_setopt($ch, CURLOPT_URL, $url);
            curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
            curl_setopt($ch, CURLOPT_POST, true);
            curl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: text/xml; charset=utf-8'));
            curl_setopt($ch, CURLOPT_POSTFIELDS, $xmlBody);

            $response = curl_exec($ch);
            curl_close($ch);

            $xml = simplexml_load_string($response);

            $sku_details = $xml->children('soap', true)->Body->children()->SKU_InquiryResponse->SKU_InquiryResult;

            if ($sku_details) {
                $decodedData = json_decode($sku_details, true);

                $sku_number = isset($decodedData['SKU_Number']) ? $decodedData['SKU_Number'] : null;
                $sku_current_price = isset($decodedData['SKU_Current_Price']) ? $decodedData['SKU_Current_Price'] : null;

                $data = [
                    'SKU_Number' => $sku_number,
                    'SKU_Current_Price' => $sku_current_price,
                    // 'TimeStamp' => Carbon::now()
                ];

                $result[] = $data;
            } else {
                // Handle the case where response is empty or not in the expected format
                // You might want to log or handle this situation differently
                $result[] = ['SKU_Number' => null, 'SKU_Current_Price' => null];
            }

            sleep(.6);


            }

           // Divide the result array into chunks of 1000 elements each
            $chunkedResult = array_chunk($result, 1000);

            // Iterate through each chunk
            foreach ($chunkedResult as $chunk) {
                // Extract SKU numbers from the current chunk
                $skuNumbers = array_column($chunk, 'SKU_Number');

                // Upsert the chunk data into the 'sku' table using Eloquent
                foreach ($chunk as $data) {
                    Sku::updateOrCreate(
                        ['SKU_Number' => $data['SKU_Number']],
                        [
                            'SKU_Current_Price' => $data['SKU_Current_Price'],
                            // Add other fields as needed
                        ]
                    );
                }
             }

                return response()->json($result, 200);

            // $csvDataArray = $result;
            // if (!empty($csvDataArray)) {
            //     $csvHeaders = array_keys($csvDataArray[0]);


            //     $csvData = implode(',', $csvHeaders) . "\n";

            //     foreach ($csvDataArray as $data) {
            //         $csvData .= '"' . implode('","', $data) . "\"\n";
            //     }
            //     $csvFilePath = public_path('GrabSftp/Price-Update.csv'); // Adjust the file name as needed

            //     // Save the CSV data to the specified file
            //     file_put_contents($csvFilePath, $csvData);

            //     return response()->download($csvFilePath, 'Price-Update.csv');
            //     //  return response()->json($csvDataArray, 200);

            // }
            //             $csvDataArray = $result;
            // if (!empty($csvDataArray)) {
            //     $csvHeaders = array_keys($csvDataArray[0]);

            //     $csvData = implode(',', $csvHeaders) . "\n";

            //     foreach ($csvDataArray as $data) {
            //         $csvData .= '"' . implode('","', $data) . "\"\n";
            //     }

            //     $csvFilePath = public_path('GrabSftp/Price-Update.csv'); // Adjust the file name as needed

            //     // Check if the file exists
            //     if (file_exists($csvFilePath)) {
            //         // If the file exists, delete it
            //         unlink($csvFilePath);
            //     }

            //     // Save the new CSV data to the specified file
            //     file_put_contents($csvFilePath, $csvData);

         //   }
                // return response()->download($csvFilePath, 'Price-Update.csv');
        //    / }

    //   PriceUpdate::dispatch()->onQueue('Price-Update');
    //   response()->json(['message' => 'Queue worker will start in the background']);

    }

    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function sftpDataStockUpdate()
    {
        // $store = 114;

        // $data = DB::connection(env('DB2_CONNECTION'))
        //     ->table('MM770SSL.INVBAL')
        //     ->select('ISTORE', 'INUMBR', 'IBHAND')
        //     ->where('ISTORE', '=', $store)
        //     ->where('IBHAND', '>', 0)
        //     ->get();

        // Pull the new data from JDA that has IB
        // $newArr = [
        //     [
        //         "istore" => "114",
        //         "inumbr" => "13025",
        //         "ibhand" => "37.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "13024",
        //         "ibhand" => "245.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "35069",
        //         "ibhand" => "1.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "73128",
        //         "ibhand" => "45.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "69270",
        //         "ibhand" => "7.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "6927099",
        //         "ibhand" => "8.00",
        //     ]
        // ];


        // //first step is to query by storeId
        // $oldArr = [
        //     [
        //         "istore" => "114",
        //         "inumbr" => "13025",
        //         "ibhand" => "37.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "13024",
        //         "ibhand" => "245.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "35069",
        //         "ibhand" => "1.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "73128",
        //         "ibhand" => "45.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "69270",
        //         "ibhand" => "7.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "690929",
        //         "ibhand" => "7.00",
        //     ],
        //     [
        //         "istore" => "114",
        //         "inumbr" => "121212",
        //         "ibhand" => "7.00",
        //     ],
        // ];

        // //Make the ibhand in the result 0 value
        // foreach ($oldArr as &$item) {
        //     $item["ibhand"] = "0.00";
        // }

        // // Create an associative array for look-up
        // $oldArrAssoc = [];
        // foreach ($oldArr as &$item) {
        //     $oldArrAssoc[$item['inumbr']] = &$item;
        // }

        // // Iterate through newArr
        // foreach ($newArr as $newItem) {
        //     $inumbr = $newItem['inumbr'];
        //     if (isset($oldArrAssoc[$inumbr])) {
        //         // If inumbr exists in oldArr, replace ibhand value
        //         $oldArrAssoc[$inumbr]['ibhand'] = $newItem['ibhand'];
        //     } else {
        //         // If inumbr does not exist in oldArr, push data to oldArr
        //         $oldArr[] = $newItem;
        //     }
        // }


        //Make an Upsert to DB


        // $data = $oldArr;

    //    $cc = count($data);
    //     return response()->json([
    //         $cc,
    //         $data

    //     ]);

        // return response ($skuList);
        return response()->json([
            'message' => ' Price Update Successful'
        ]);
    }

    public function sftpSkuListUpdate()
    {
            //! --note this two Stores Resulted in 6,990 Unique SKU_Number
             // $store = 600; //IHA
              $store = 114; //EPC

            $skuList = DB::connection(env('DB2_CONNECTION'))
                ->table('MM770SSL.INVBAL')
                ->select('INUMBR')
                ->where('ISTORE', '=', $store)
                ->get()
                ->toArray(); // Convert the collection to an array

            $values = [];

            // Accessing the 'INUMBR' values in the result array
            foreach ($skuList as $item) {
                $values[] = ['SKU_Number' => $item->inumbr]; // Building the array for insertion
            }

            // Inserting the prepared array data into the 'sku' table
            DB::table('sku')->insertOrIgnore($values);

            $cc = count($values);

            return response()->json([
                // 'message' => 'SKU List Update Successful'
                $cc,
                $values
            ]);


        }
}
